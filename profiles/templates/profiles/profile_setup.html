{% extends "base.html" %}
{% block title %}Profile Setup{% endblock %}

{% block content %}
<div class="container py-5" style="max-width: 850px;">

  <!-- HEADER -->
  <div class="text-center mb-4">
    <h2 class="fw-bold">ðŸ‘¤ Complete Your Profile</h2>
    <p class="text-muted">
      A complete profile increases your chances of getting shortlisted
    </p>
  </div>

  <form method="POST" enctype="multipart/form-data"
        class="card shadow-sm border-0 p-4 p-md-5">
    {% csrf_token %}

    <!-- PERSONAL DETAILS -->
    <h5 class="mb-3 border-bottom pb-2">ðŸ“Œ Personal Information</h5>

    <div class="row g-3 mb-4">
      <div class="col-md-6">
        <label class="form-label fw-semibold">Full Name</label>
        <input type="text" name="full_name" class="form-control"
               value="{{ profile.full_name|default:'' }}" required>
      </div>

      <div class="col-md-6">
        <label class="form-label fw-semibold">Phone</label>
        <input type="text" name="phone" class="form-control"
               value="{{ profile.phone|default:'' }}"
               placeholder="+91 XXXXX XXXXX">
      </div>
    </div>

    <div class="row g-3 mb-4">
      <div class="col-md-6">
        <label class="form-label fw-semibold">Location</label>
        <input type="text" name="location" class="form-control"
               value="{{ profile.location|default:'' }}"
               placeholder="City, State">
      </div>

      <div class="col-md-6">
        <label class="form-label fw-semibold">Experience (Years)</label>
        <input type="number" name="experience" class="form-control"
               value="{{ profile.experience|default:'' }}"
               min="0">
      </div>
    </div>

    <!-- PROFESSIONAL DETAILS -->
    <h5 class="mb-3 border-bottom pb-2">ðŸ’¼ Professional Details</h5>

    <div class="mb-4">
      <label class="form-label fw-semibold">
        Professional Summary
      </label>
      <textarea name="summary" class="form-control" rows="4"
                placeholder="Brief summary about your experience, strengths, and career goals">{{ profile.summary|default:'' }}</textarea>
      <small class="text-muted">
        This summary may be shown to recruiters
      </small>
    </div>

    <div class="mb-4">
      <label class="form-label fw-semibold">
        Skills (comma separated)
      </label>
      <textarea name="skills" class="form-control" rows="2"
                placeholder="Python, Django, SQL, REST APIs">{{ profile.skills|default:'' }}</textarea>
    </div>

    <!-- RESUME -->
    <h5 class="mb-3 border-bottom pb-2">ðŸ“„ Resume</h5>

    <div class="mb-4">
      <label class="form-label fw-semibold">
        Upload Resume (PDF / DOC)
      </label>
      <input type="file" name="resume" class="form-control">

      {% if profile.resume %}
        <small class="text-muted d-block mt-1">
          Current resume:
          <a href="{{ profile.resume.url }}" target="_blank">
            View uploaded file
          </a>
        </small>
      {% endif %}
    </div>

    <!-- SUBMIT -->
    <div class="d-grid mt-4">
      <button type="submit" class="btn btn-primary btn-lg">
        ðŸ’¾ Save Profile
      </button>
    </div>

  </form>

</div>
{% endblock %}
