{% extends "base.html" %}
{% block content %}

<style>

/* ===== BACKGROUND ===== */
body {
  background: #f5f7fb;
}

/* ===== HEADER CARD ===== */
.profile-header {
  border-radius: 20px;
  background: linear-gradient(135deg, #4e73df, #1cc88a);
  color: white;
  padding: 30px;
  box-shadow: 0 20px 40px rgba(0,0,0,0.08);
  animation: fadeInDown 0.6s ease;
}

/* ===== GENERAL CARDS ===== */
.glass-card {
  border-radius: 20px;
  background: white;
  box-shadow: 0 15px 35px rgba(0,0,0,0.05);
  transition: all 0.3s ease;
}

.glass-card:hover {
  transform: translateY(-6px);
  box-shadow: 0 20px 45px rgba(0,0,0,0.08);
}

/* ===== SKILL BADGES ===== */
.skill-badge {
  background: #eef2ff;
  color: #3730a3;
  border-radius: 30px;
  padding: 8px 16px;
  font-weight: 500;
  font-size: 14px;
  transition: all 0.2s ease;
}

.skill-badge:hover {
  background: #4e73df;
  color: white;
}

/* ===== PROGRESS BAR ===== */
.progress {
  height: 10px;
  border-radius: 20px;
}

/* ===== EXPERIENCE CIRCLE ===== */
.exp-circle {
  width: 70px;
  height: 70px;
  border-radius: 50%;
  background: rgba(255,193,7,0.2);
  display: flex;
  align-items: center;
  justify-content: center;
}

/* ===== ANIMATIONS ===== */
@keyframes fadeInDown {
  from { opacity:0; transform: translateY(-20px); }
  to { opacity:1; transform: translateY(0); }
}

@keyframes fadeInUp {
  from { opacity:0; transform: translateY(20px); }
  to { opacity:1; transform: translateY(0); }
}

.section-animate {
  animation: fadeInUp 0.6s ease;
}

</style>

<div class="container mt-4">

  <!-- HEADER -->
  <div class="profile-header d-flex flex-column flex-md-row justify-content-between align-items-md-center gap-4 mb-4">

    <div class="d-flex align-items-center gap-3">
      <div class="rounded-circle bg-white text-primary d-flex align-items-center justify-content-center shadow"
           style="width:60px;height:60px;">
        <i class="bi bi-person-fill fs-3"></i>
      </div>
      <div>
        <h4 class="mb-0 fw-bold">
          {{ profile.full_name|default:user.username }}
        </h4>
        <small>Job Seeker Profile</small>
      </div>
    </div>

    <div class="w-100 w-md-50">
      <div class="d-flex justify-content-between">
        <small class="fw-semibold">
          Profile Completion
        </small>
        <small class="fw-bold">
          {{ completion_percent }}%
        </small>
      </div>

      <div class="progress mt-2">
        <div class="progress-bar bg-light"
             style="width: {{ completion_percent }}%">
        </div>
      </div>
    </div>

  </div>


  <!-- PROFILE SUMMARY -->
  <div class="glass-card p-4 mb-4 section-animate">
    <h5 class="mb-3">
      <i class="bi bi-card-text me-2 text-primary"></i>
      Profile Summary
    </h5>

    {% if profile.profile_summary %}
      <p class="text-muted mb-0">{{ profile.profile_summary }}</p>
    {% else %}
      <p class="text-muted fst-italic mb-0">
        Add a short summary to improve job matches.
      </p>
    {% endif %}
  </div>


  <!-- SKILLS + EXPERIENCE -->
  <div class="row g-4 mb-4 section-animate">

    <!-- SKILLS -->
    <div class="col-md-8">
      <div class="glass-card p-4 h-100">
        <h5 class="mb-3">
          <i class="bi bi-tools me-2 text-primary"></i>
          Skills
        </h5>

        {% if skills_list %}
          {% for skill in skills_list %}
            <span class="skill-badge me-2 mb-2 d-inline-block">
              {{ skill }}
            </span>
          {% endfor %}
        {% else %}
          <span class="text-muted">No skills added yet</span>
        {% endif %}
      </div>
    </div>

    <!-- EXPERIENCE -->
    <div class="col-md-4">
      <div class="glass-card p-4 h-100 text-center d-flex flex-column justify-content-center">

        <div class="exp-circle mx-auto mb-3">
          <i class="bi bi-briefcase-fill text-warning fs-4"></i>
        </div>

        <h2 class="fw-bold mb-0">
          {{ profile.experience|default:0 }}
        </h2>
        <small class="text-muted">Years Experience</small>

      </div>
    </div>

  </div>


  <!-- CERTIFICATES -->
  <div class="glass-card p-4 section-animate">
    <h5 class="mb-3">
      <i class="bi bi-award-fill me-2 text-primary"></i>
      Certificates
    </h5>

    {% for cert in certificates %}
      <div class="glass-card p-3 mb-3 d-flex flex-column flex-md-row justify-content-between align-items-md-center">

        <div>
          <strong>
            <i class="bi bi-patch-check-fill text-success me-1"></i>
            {{ cert.course.title }}
          </strong>
          <br>
          <small class="text-muted">
            Completed on {{ cert.completed_on|date:"d M Y" }}
          </small>
        </div>

        <a href="{% url 'training:certificate' cert.id %}"
           class="btn btn-success btn-sm mt-2 mt-md-0">
          <i class="bi bi-download me-1"></i>
          Download
        </a>

      </div>

    {% empty %}
      <p class="text-muted mb-0">
        No certificates earned yet.
      </p>
    {% endfor %}

  </div>

</div>

{% endblock %}
